---
# Ansible Lint Configuration
# Version: 3.0.0

profile: production

# Exclude vendored collections from linting
exclude_paths:
  - collections/
  - .git/
  - .ansible/

# Guidelines to skip
skip_list:
  # Variable naming - we use project-wide 'vps_' prefix instead of role-specific prefixes
  - var-naming
  - var-naming[no-role-prefix]

  # Error handling - ignore_errors is correctly used in rollback scenarios
  # - ignore-errors

  # Command module usage -> we use shell/command for specific installers
  # - command-instead-of-module

  # Line length - handled by yamllint
  - yaml[line-length]

  # Syntax - handled by yamllint
  - yaml[octal-values]
  - yaml[comments-indentation]

  # Role names allow hyphens (project convention)
  - role-name

  # Role dependencies use shorthand string format (project convention)
  - schema[meta]

  # Test playbooks don't need names
  - name[play]

  # Allow shell pipes and file perms (handled manually)
  # - risky-shell-pipe
  # - risky-file-permissions

  # Allow latest git versions and shell usage
  # - latest
  # - command-instead-of-shell
  # - no-changed-when

# Warn but don't fail for these (optional)
warn_list:
  - risky-shell-pipe
  - risky-file-permissions
  - no-changed-when
