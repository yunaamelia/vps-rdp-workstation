# Ansible Configuration for VPS RDP Workstation
# Version: 3.0.0
# https://docs.ansible.com/ansible/latest/reference_appendices/config.html

[defaults]
# Inventory and configuration
inventory = inventory/hosts.yml
roles_path = roles
collections_paths = collections

# Output formatting - Clean and beautiful
stdout_callback = ansible.builtin.yaml
bin_ansible_callbacks = True
callback_whitelist = profile_tasks, timer, ara_default
display_skipped_hosts = False
display_ok_hosts = yes
nocows = 1
force_color = 1
command_warnings = False
system_warnings = False

# Performance optimization
forks = 10
pipelining = true
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cache
fact_caching_timeout = 86400

# Mitogen strategy (2-7x speedup) - set via ANSIBLE_STRATEGY_PLUGINS env var
# See: https://mitogen.networkgenomics.com/ansible_detailed.html
# strategy_plugins path set dynamically by setup.sh based on pip install location
# strategy = mitogen_linear (set via ANSIBLE_STRATEGY env var)

# Logging
log_path = /var/log/vps-setup-ansible.log

# SSH settings
host_key_checking = false
timeout = 30
remote_user = root

# Retry settings
retry_files_enabled = False
retry_files_save_path = /tmp/ansible_retry

# Privilege escalation
become = true
become_method = sudo
become_user = root
become_ask_pass = false

# Deprecation warnings - suppress in normal mode
deprecation_warnings = False

[privilege_escalation]
become = true
become_method = sudo
become_user = root

[ssh_connection]
ssh_args = -o ControlMaster=auto -o ControlPersist=300s -o ServerAliveInterval=60
control_path = /tmp/ansible-ssh-%%h-%%p-%%r
pipelining = true

[galaxy]
server_list = galaxy

[galaxy_server.galaxy]
url = https://galaxy.ansible.com/
