# VPS RDP Workstation - Master Configuration
# All configurable variables for the automation system
# Version: 3.0.0-secure-enhanced
---

# =============================================================================
#  SYSTEM CONFIGURATION
# =============================================================================

# Basic system settings
vps_hostname: "dev-workstation"          # System hostname (RFC 1123 compliant)
vps_timezone: "UTC"                       # System timezone (timedatectl list-timezones)
vps_locale: "en_US.UTF-8"                 # System locale
vps_keyboard_layout: "us"                 # Keyboard layout

# =============================================================================
#  USER ACCOUNT (Credentials provided via secure input, not here)
# =============================================================================

vps_username: "root"                          # Set via environment or secure input
vps_user_password_hash: "$6$lklbB8acEbi7ljFv$siXGhz0U3o2oTBiUqTir0TKY2kH72qvVrLA3b/PRqt0kspSE1MZ5OiBJNgMxz9Viqe1bo1k9ZtAml7BcCckBf0"
vps_user_shell: "/bin/zsh"                # Default shell for user
vps_user_groups:                          # Groups for the user
  - sudo
  - adm

# =============================================================================
#  SECURITY CONFIGURATION
# =============================================================================

# Security profile: standard | hardened | paranoid
vps_security_level: "standard"

# SSH Configuration
vps_ssh_port: 22                          # SSH port (change for security)
vps_ssh_password_auth: true               # Allow password authentication
vps_ssh_pubkey_auth: true                 # Allow public key authentication
vps_ssh_root_login: true                 # Allow root login (user requested)
vps_ssh_max_auth_tries: 6                 # Max authentication attempts
vps_ssh_client_alive_interval: 300        # Keepalive interval (seconds)

# Firewall (UFW)
vps_firewall_enabled: true
vps_firewall_default_incoming: "deny"     # Default incoming policy
vps_firewall_default_outgoing: "allow"    # Default outgoing policy
vps_firewall_logging: "low"               # low | medium | high

# Fail2ban Configuration
vps_fail2ban_enabled: true
vps_fail2ban_bantime: 600                 # Ban duration in seconds (10 mins)
vps_fail2ban_findtime: 600                # Time window for retries (10 min)
vps_fail2ban_maxretry: 10                 # Max retries before ban

# Automatic Security Updates
vps_unattended_upgrades: true             # Enable unattended upgrades
vps_auto_reboot: true                     # Auto reboot for updates
vps_auto_reboot_time: "03:00"             # Reboot time (24h format)

# =============================================================================
#  DESKTOP ENVIRONMENT
# =============================================================================

vps_install_desktop: true
vps_desktop_environment: "kde-plasma"     # Desktop environment

# Theme Configuration
vps_kde_autostart_apps: []                # List of apps to autostart (e.g. "firefox.desktop")

# Catppuccin Theme Configuration
vps_theme_variant: "catppuccin-mocha"
vps_theme_accent: "blue"
vps_install_starship: true
vps_terminal_font: "Hack Nerd Font Mono"
vps_cursor_theme: "catppuccin-mocha-blue-cursors"

# Display Manager
vps_display_manager: "sddm"
vps_sddm_autologin: false                 # Auto-login (security risk)

# XRDP Configuration
vps_install_xrdp: true
vps_xrdp_port: 3389                       # RDP port
vps_xrdp_color_depth: 24                  # Color depth (16, 24, 32)
vps_xrdp_encryption: "high"               # Encryption level: low, medium, high, fips
vps_xrdp_security_layer: "tls"            # Security layer: tls (recommended), rdp, negotiate
vps_xrdp_ssl_protocols: "TLSv1.2, TLSv1.3"  # TLS versions (security)
vps_xrdp_tls_ciphers: "HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5"  # TLS cipher suites
vps_xrdp_log_level: "INFO"                # Log level: TRACE, DEBUG, INFO, WARNING, ERROR
vps_xrdp_syslog_level: "INFO"             # Syslog level

# XRDP Display & Performance
vps_xrdp_default_dpi: 96                  # Default DPI for HiDPI scaling
vps_xrdp_use_vsock: false                 # Enable vsock for VM environments
vps_xrdp_rail: false                      # RemoteApp support (Windows integration)

# XRDP Login Screen Customization (Nordic theme)
vps_xrdp_ls_title: "Remote Desktop"       # Login screen title
vps_xrdp_ls_width: 350                    # Login dialog width
vps_xrdp_ls_height: 430                   # Login dialog height
vps_xrdp_ls_bg_color: "0x2e3440"          # Background color (Nordic Polar Night)
vps_xrdp_ls_txt_color: "0xeceff4"         # Text color (Nordic Snow)
vps_xrdp_ls_input_color: "0x3b4252"       # Input field color
vps_xrdp_ls_logo: ""                      # Custom logo path (leave empty for none)

# XRDP TLS Certificate (leave empty for built-in self-signed)
vps_xrdp_certificate: ""                  # Path to TLS certificate (PEM)
vps_xrdp_key_file: ""                     # Path to TLS private key (PEM)

# XRDP Features
vps_xrdp_audio: true                      # Enable audio redirection
vps_xrdp_clipboard: true                  # Enable clipboard sharing
vps_xrdp_drive_redirect: true             # Enable drive/file redirection

# XRDP Session Manager (sesman) Settings
vps_xrdp_max_sessions: 50                 # Max concurrent sessions (0 = unlimited)
vps_xrdp_max_login_retry: 4               # Max login attempts
vps_xrdp_allow_root: false                # Allow root login via RDP (NEVER in production)
vps_xrdp_kill_disconnected: false         # Kill sessions on disconnect
vps_xrdp_disconnected_timeout: 0          # Disconnected timeout in seconds (0 = never)
vps_xrdp_idle_timeout: 0                  # Idle timeout in seconds (0 = never)
vps_xrdp_restrict_clipboard: "none"       # Clipboard restriction: none, text, file, image, all
vps_xrdp_session_policy: "UBI"            # Session reconnect policy: Default, UB, UBI, UBD, UBDI, Separate

# XRDP Advanced Security
vps_xrdp_allow_alternate_shell: true      # Allow custom session scripts
vps_xrdp_xorg_no_new_privs: true          # AppArmor/SELinux compatibility
vps_xrdp_ts_users: ""                     # Terminal server users group (blank = any)
vps_xrdp_ts_admins: ""                    # Terminal server admins group

# XRDP Sesman Logging
vps_xrdp_sesman_log_level: "INFO"         # Sesman log level
vps_xrdp_sesman_syslog_level: "INFO"      # Sesman syslog level
vps_xrdp_chansrv_log_level: "INFO"        # Channel service log level

# XRDP Chansrv (Channel Service) Settings
vps_xrdp_fuse_mount_name: "thinclient_drives"  # FUSE mount name in file manager
vps_xrdp_enable_fuse_mount: true          # Enable drive redirection via FUSE
vps_xrdp_file_umask: "077"                # File permissions for redirected files
vps_xrdp_nautilus3_flist: true            # GNOME Files compatibility

# XRDP Sound Redirection Tuning
vps_xrdp_sound_silent_frames_aac: 4       # Silent frames for AAC (reduce noise)
vps_xrdp_sound_silent_frames_mp3: 2       # Silent frames for MP3
vps_xrdp_sound_msec_do_not_send: 1000     # Ms of silence before stopping stream

# =============================================================================
#  TERMINAL CONFIGURATION
# =============================================================================

vps_shell: "zsh"                          # Default shell
vps_zsh_theme: "agnoster"                 # Oh My Zsh theme
vps_terminal_emulator: "konsole"          # Terminal emulator
vps_install_omz: true                     # Install Oh My Zsh

# Oh My Zsh Plugins (Built-in)
vps_omz_builtin_plugins:
  - git
  - docker
  - npm
  - pip
  - node
  - python
  - composer
  - sudo
  - command-not-found
  - rsync
  - systemd
  - extract
  - colored-man-pages
  - copypath
  - copyfile
  - vscode

# External Zsh Plugins
vps_install_zsh_external_plugins: true
vps_omz_external_plugins:
  - name: zsh-completions
    repo: https://github.com/zsh-users/zsh-completions
  - name: zsh-autosuggestions
    repo: https://github.com/zsh-users/zsh-autosuggestions
  - name: zsh-syntax-highlighting
    repo: https://github.com/zsh-users/zsh-syntax-highlighting
  - name: zsh-history-substring-search
    repo: https://github.com/zsh-users/zsh-history-substring-search
  - name: fzf-tab
    repo: https://github.com/Aloxaf/fzf-tab
  - name: you-should-use
    repo: https://github.com/MichaelAquilina/zsh-you-should-use
  - name: forgit
    repo: https://github.com/wfxr/forgit

vps_install_zoxide: true                  # Smart directory jumping

# =============================================================================
#  DEVELOPMENT LANGUAGES
# =============================================================================

# Node.js
vps_development_install_nodejs: true
vps_development_nodejs_version: "lts"                     # LTS or specific version (e.g., "20")
vps_development_npm_global_packages:
  - yarn
  - pnpm
  - typescript
  - ts-node
  - prettier
  - eslint

# Python
vps_development_install_python: true
vps_development_python_pipx_packages:
  - black
  - pylint
  - pytest
  - ipython
  - poetry
  - rich-cli
  - tqdm

# PHP
vps_development_install_php: true
vps_development_php_extensions:
  - curl
  - mbstring
  - xml
  - mysql
  - zip
  - gd
  - intl
  - bcmath
vps_development_install_composer: true

# =============================================================================
#  DOCKER CONFIGURATION
# =============================================================================

vps_docker_install: true
vps_docker_log_max_size: "10m"                # Max log size per container
vps_docker_log_max_file: "3"                  # Max log files to keep
vps_docker_storage_driver: "overlay2"         # Storage driver

# =============================================================================
#  CODE EDITORS
# =============================================================================

vps_editors_install_vscode: true
vps_editors_vscode_extensions:
  - esbenp.prettier-vscode
  - dbaeumer.vscode-eslint
  - ms-python.python
  - ms-python.vscode-pylance
  - bmewburn.vscode-intelephense-client
  - eamodio.gitlens
  - rangav.vscode-thunder-client
  - pkief.material-icon-theme
  - equinusocio.vsc-material-theme
  - github.copilot
  - github.copilot-chat
  - continue.continue
  - codeium.codeium
  - tabnine.tabnine-vscode

vps_editors_install_opencode: true                    # OpenCode AI agent
vps_editors_install_antigravity: true                 # Google Antigravity IDE

# =============================================================================
#  TOOL INSTALLATION FLAGS
# =============================================================================

vps_tui_tools_install: true                   # lazygit, tig, ranger, mc
vps_network_tools_install: true               # nmap, mtr, iftop, httpie
vps_system_performance_install: true           # btop, dstat, inxi
vps_text_processing_install: true             # ag, fd, jq, yq, pandoc
vps_file_management_install: true             # rsync, rclone, ncdu
vps_dev_debugging_install: true               # gdb, valgrind, cmake
vps_code_quality_install: true                # shellcheck, hadolint
vps_productivity_install: true                # thefuck, tldr, cheat
vps_log_visualization_install: true           # lnav, gum, sampler
vps_ai_devtools_install: true                 # aider, shell-gpt
vps_cloud_native_tools_install: false         # kubectl, helm, k9s (optional)

# =============================================================================
#  LOGGING CONFIGURATION
# =============================================================================

# Log levels: quiet | normal | verbose | debug
vps_log_level: "normal"

# Output modes: interactive | ci | quiet
vps_output_mode: "interactive"

# Visual feedback
vps_show_progress: true                   # Show progress bars
vps_show_spinner: true                    # Show spinners
vps_color_output: true                    # Colored output
vps_unicode_symbols: true                 # Unicode status symbols

# Log files
vps_log_file: "/var/log/vps-setup.log"
vps_error_log: "/var/log/vps-setup-error.log"
vps_summary_log: "/var/log/vps-setup-summary.log"
vps_log_rotation: true
vps_log_keep_days: 30

# Progress tracking
vps_progress_state_file: "/var/lib/vps-setup/progress.json"
vps_enable_checkpoints: true
vps_enable_resume: true

# Dashboard
vps_dashboard_enabled: true
vps_dashboard_refresh_ms: 1000

# =============================================================================
#  PERFORMANCE OPTIMIZATION
# =============================================================================

vps_swappiness: 10                        # Lower = prefer RAM over swap
vps_disable_unnecessary_services: true    # Disable bluetooth, cups, etc.
vps_optimize_for_rdp: true                # RDP-specific optimizations

# =============================================================================
#  BACKUP AND ROLLBACK
# =============================================================================

vps_backup_dir: "/var/backups/vps-setup"
vps_enable_rollback: true
vps_backup_before_changes: true

# =============================================================================
#  BROWSER CONFIGURATION
# =============================================================================

vps_desktop_install_firefox: true
vps_desktop_firefox_default_browser: true
vps_desktop_firefox_privacy_mode: "strict"            # standard | strict

# =============================================================================
#  FONTS
# =============================================================================

vps_fonts_install_nerd_fonts: true
vps_fonts_install_powerline_fonts: true
vps_fonts_default_monospace_font: "JetBrainsMono Nerd Font"
vps_fonts_default_font_size: 11

# =============================================================================
#  CHECKSUMS FOR VERIFIED DOWNLOADS
#  Update these when versions change
# =============================================================================

checksums:
  # JetBrains Mono Nerd Font (update for each release)
  jetbrains_mono_nerd_sha256: ""          # Will be fetched from release

  # Gum CLI tool
  gum_sha256: ""                          # Will be verified at download

  # Lazygit
  lazygit_sha256: ""

  # Lazydocker
  lazydocker_sha256: ""
