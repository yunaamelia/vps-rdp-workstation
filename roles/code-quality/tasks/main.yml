# Code Quality Role
---
- name: Install code quality tools from apt
  ansible.builtin.apt:
    name:
      - shellcheck
      - yamllint
    state: present
  tags: [tools, quality]

- name: Install hadolint for Dockerfile linting
  ansible.builtin.get_url:
    url: "https://github.com/hadolint/hadolint/releases/download/v{{ hadolint_version | default('2.12.0') }}/hadolint-Linux-x86_64"
    dest: /usr/local/bin/hadolint
    mode: '0755'
    checksum: "sha256:{{ hadolint_checksum | default('56de6d5e5ec427e17b74fa48d51271c7fc0d61571dfe714b61c14629c8fc1f9c') }}"
  tags: [tools, quality]

- name: Log code-quality role completion
  ansible.builtin.debug:
    msg: "âœ“ Code Quality role completed"
  tags: [tools, quality]
