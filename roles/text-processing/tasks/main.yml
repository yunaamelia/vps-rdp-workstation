# Text Processing Role
---
- name: Install text processing tools
  ansible.builtin.apt:
    name:
      - ripgrep
      - silversearcher-ag
      - jq
      - pandoc
      - sed
      - gawk
      - grep
      - bat
    state: present
  tags: [tools, text]

- name: Install fd-find
  ansible.builtin.apt:
    name: fd-find
    state: present
  tags: [tools, text]

- name: Create fd symlink
  ansible.builtin.file:
    src: /usr/bin/fdfind
    dest: /usr/local/bin/fd
    state: link
  ignore_errors: true
  tags: [tools, text]

- name: Install yq (YAML processor)
  ansible.builtin.get_url:
    url: "https://github.com/mikefarah/yq/releases/download/v{{ yq_version | default('4.40.5') }}/yq_linux_amd64"
    dest: /usr/local/bin/yq
    mode: '0755'
    checksum: "sha256:{{ yq_checksum | default('a2c097180dd884a8d50c956ee16a9cec070f4a5a1c4f5f5a0e6e6f0f0c3e5a7b') }}"
  tags: [tools, text]

- name: Log text-processing role completion
  ansible.builtin.debug:
    msg: "âœ“ Text Processing role completed"
  tags: [tools, text]
