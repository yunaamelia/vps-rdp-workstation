# TCP Keepalive Tuning for XRDP - Managed by Ansible
# Prevents firewall-induced connection drops on idle sessions
net.ipv4.tcp_keepalive_time = {{ vps_xrdp_tcp_keepalive_time | default(300) }}
net.ipv4.tcp_keepalive_intvl = {{ vps_xrdp_tcp_keepalive_intvl | default(10) }}
net.ipv4.tcp_keepalive_probes = {{ vps_xrdp_tcp_keepalive_probes | default(3) }}

# Increase socket buffer limits for XRDP performance
net.core.wmem_max = {{ vps_xrdp_wmem_max | default(4194304) }}
net.core.rmem_max = {{ vps_xrdp_rmem_max | default(4194304) }}
